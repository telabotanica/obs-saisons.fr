{% extends 'base.html.twig' %}

{% set page_container_classes = 'species' %}
{% block main_content %}

    {% include 'layout/header.html.twig' with ({
        'title': 'Espèces à observer',
        'subtitle': 'Toutes les espèces du programme de l’Observatoire des Saisons et ses déclinaisons territoriales (comme ODS Provence) par groupe d’espèces.<br>Cliquez sur “Plantes” ou “Animaux” puis sur un groupe d’espèces.<br>En cliquant sur une espèce, vous accéderez à sa fiche pour vous aider à les reconnaître et apprendre à observer les différents stades.'
    }) %}

    {% include 'components/actionbar.html.twig' with {
        actionbar: {
            'components': [
                {
                    'name': 'tabs-holder',
                    'data': {
                        'tabs': [
                            {
                                'title':'Plantes',
                                'reference': 'plantes'
                            },
                            {
                                'title':'Animaux',
                                'reference': 'animaux'
                            },
                            {
                                'title':'Champignons',
                                'reference': 'champignons'
                            }
                        ]
                    }
                },
                {
                    'name': 'squared-button',
                    'data': {
                        'icon': 'export',
                        'label': 'exporter',
                        'link': path('export_species')
                    }
                }
            ]
        }
    } %}

    {% for id, accordion in setSpeciesDisplayData(allSpecies) %}
        {% include 'components/accordion-block.html.twig' with {type: accordion.type, typeSpecies: accordion.typeSpecies} %}
    {% endfor %}

{% endblock %}
